{"ast":null,"code":"import React,{useState,useEffect}from'react';import{TrendingUp,BarChart3,PieChart,Calendar,Target,CheckCircle,Clock,AlertCircle,Download,Filter,Activity,Users,Zap}from'lucide-react';import{apiService}from'../services/api';import LoadingSpinner from'../components/LoadingSpinner';import ExportModal from'../components/ExportModal';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Analytics=_ref=>{let{currentUser}=_ref;const[analytics,setAnalytics]=useState(null);const[projects,setProjects]=useState([]);const[loading,setLoading]=useState(true);const[timeRange,setTimeRange]=useState('all');// all, 30d, 90d, 1y\nconst[selectedMetric,setSelectedMetric]=useState('completion');const[showExportModal,setShowExportModal]=useState(false);useEffect(()=>{if(currentUser){loadAnalyticsData();}},[currentUser,timeRange]);const loadAnalyticsData=async()=>{try{setLoading(true);// Load analytics\nconst analyticsData=await apiService.getDashboardAnalytics(currentUser.id);setAnalytics(analyticsData);// Load all projects for detailed analysis\nconst projectsData=await apiService.getProjects({userId:currentUser.id,limit:100});setProjects(projectsData);}catch(error){console.error('Failed to load analytics data:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}if(!analytics){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No analytics data available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Start creating projects to see your analytics\"})]});}// Calculate additional metrics\nconst projectsByStatus=projects.reduce((acc,project)=>{acc[project.status]=(acc[project.status]||0)+1;return acc;},{});const projectsByType=projects.reduce((acc,project)=>{acc[project.project_type]=(acc[project.project_type]||0)+1;return acc;},{});const projectsByPriority=projects.reduce((acc,project)=>{acc[project.priority]=(acc[project.priority]||0)+1;return acc;},{});// Recent activity (projects created in last 30 days)\nconst thirtyDaysAgo=new Date();thirtyDaysAgo.setDate(thirtyDaysAgo.getDate()-30);const recentProjects=projects.filter(project=>new Date(project.created_at)>=thirtyDaysAgo);// Monthly activity chart data\nconst monthlyActivity=analytics.monthly_activity||[];const monthNames=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];const keyMetrics=[{title:'Total Projects',value:analytics.projects.total,change:\"+\".concat(recentProjects.length,\" this month\"),icon:Target,color:'text-blue-600',bg:'bg-blue-100',testId:'total-projects-metric'},{title:'Completion Rate',value:\"\".concat(analytics.projects.completion_rate,\"%\"),change:\"\".concat(analytics.projects.completed,\"/\").concat(analytics.projects.total,\" completed\"),icon:CheckCircle,color:'text-green-600',bg:'bg-green-100',testId:'completion-rate-metric'},{title:'Active Projects',value:analytics.projects.in_progress,change:'Currently in progress',icon:Clock,color:'text-yellow-600',bg:'bg-yellow-100',testId:'active-projects-metric'},{title:'Task Completion',value:\"\".concat(analytics.tasks.completion_rate,\"%\"),change:\"\".concat(analytics.tasks.completed,\"/\").concat(analytics.tasks.total,\" tasks\"),icon:AlertCircle,color:'text-purple-600',bg:'bg-purple-100',testId:'task-completion-metric'}];const statusColors={'planning':{bg:'bg-yellow-500',text:'Planning'},'in-progress':{bg:'bg-blue-500',text:'In Progress'},'completed':{bg:'bg-green-500',text:'Completed'},'on-hold':{bg:'bg-gray-500',text:'On Hold'}};const typeColors={'software':{bg:'bg-blue-500',text:'Software'},'design':{bg:'bg-purple-500',text:'Design'},'business':{bg:'bg-green-500',text:'Business'},'other':{bg:'bg-gray-500',text:'Other'}};const priorityColors={'low':{bg:'bg-gray-500',text:'Low'},'medium':{bg:'bg-yellow-500',text:'Medium'},'high':{bg:'bg-orange-500',text:'High'},'critical':{bg:'bg-red-500',text:'Critical'}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",\"data-testid\":\"analytics-title\",children:\"Analytics Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Insights into your project performance and productivity\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mt-4 sm:mt-0\",children:[/*#__PURE__*/_jsxs(\"select\",{value:timeRange,onChange:e=>setTimeRange(e.target.value),className:\"input w-auto\",\"data-testid\":\"time-range-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30d\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90d\",children:\"Last 90 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1y\",children:\"Last Year\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowExportModal(true),className:\"btn-secondary inline-flex items-center\",\"data-testid\":\"export-analytics-button\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-2\"}),\"Export\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",children:keyMetrics.map(metric=>{const Icon=metric.icon;return/*#__PURE__*/_jsx(\"div\",{className:\"card\",\"data-testid\":metric.testId,children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:metric.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 mt-2\",children:metric.value}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:metric.change})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full \".concat(metric.bg),children:/*#__PURE__*/_jsx(Icon,{className:\"w-6 h-6 \".concat(metric.color)})})]})})},metric.title);})}),monthlyActivity.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Activity,{className:\"w-5 h-5 mr-2\"}),\"Project Activity Over Time\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end space-x-2 h-40\",children:monthlyActivity.map((item,index)=>{const maxCount=Math.max(...monthlyActivity.map(m=>m.count),1);const height=item.count/maxCount*100;const monthName=monthNames[item._id.month-1];return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-end h-32 w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-primary-500 rounded-t min-h-1 flex items-end justify-center\",style:{height:\"\".concat(height,\"%\")},children:item.count>0&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-white font-medium mb-1\",children:item.count})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 mt-2\",children:monthName})]},index);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-xs text-gray-500 text-center\",children:\"Projects created per month (Last 12 months)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"w-5 h-5 mr-2\"}),\"Project Status Distribution\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(projectsByStatus).map(_ref2=>{let[status,count]=_ref2;const config=statusColors[status]||{bg:'bg-gray-500',text:status};const percentage=analytics.projects.total>0?(count/analytics.projects.total*100).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(config.bg,\" mr-3\")}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:config.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:count}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",percentage,\"%)\"]})]})]},status);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5 mr-2\"}),\"Project Types\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(projectsByType).map(_ref3=>{let[type,count]=_ref3;const config=typeColors[type]||{bg:'bg-gray-500',text:type};const percentage=analytics.projects.total>0?(count/analytics.projects.total*100).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(config.bg,\" mr-3\")}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 capitalize\",children:config.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:count}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",percentage,\"%)\"]})]})]},type);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 mr-2\"}),\"Priority Distribution\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:Object.entries(projectsByPriority).map(_ref4=>{let[priority,count]=_ref4;const config=priorityColors[priority]||{bg:'bg-gray-500',text:priority};const percentage=analytics.projects.total>0?(count/analytics.projects.total*100).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(config.bg,\" mr-3\")}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700 capitalize\",children:config.text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:count}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[\"(\",percentage,\"%)\"]})]})]},priority);})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5 mr-2\"}),\"Recent Activity (30 days)\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:recentProjects.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"No projects created in the last 30 days\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[recentProjects.slice(0,5).map(project=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",\"data-testid\":\"recent-project-\".concat(project.id),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900\",children:project.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:new Date(project.created_at).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(project.status==='completed'?'badge-success':project.status==='in-progress'?'badge-primary':project.status==='planning'?'badge-warning':'badge-gray'),children:project.status.replace('-',' ')})]},project.id)),recentProjects.length>5&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 text-center pt-2\",children:[\"+\",recentProjects.length-5,\" more projects\"]})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-5 h-5 mr-2\"}),\"Performance Summary\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-green-600 mb-2\",children:[analytics.projects.completion_rate,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-4\",children:\"Project Completion Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill bg-green-500\",style:{width:\"\".concat(analytics.projects.completion_rate,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-blue-600 mb-2\",children:[analytics.tasks.completion_rate,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-4\",children:\"Task Completion Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill bg-blue-500\",style:{width:\"\".concat(analytics.tasks.completion_rate,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-purple-600 mb-2\",children:[Math.min(100,recentProjects.length*10),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-4\",children:\"Activity Score (30d)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill bg-purple-500\",style:{width:\"\".concat(Math.min(100,recentProjects.length*10),\"%\")}})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Smart Recommendations\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[analytics.projects.completion_rate<50&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-yellow-800\",children:\"Improve Project Completion Rate\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-700 mt-1\",children:\"Your project completion rate is below 50%. Consider breaking down large projects into smaller, manageable tasks and setting realistic deadlines.\"})]})]})}),analytics.projects.in_progress>5&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-blue-50 border border-blue-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-blue-800\",children:\"Focus on Active Projects\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700 mt-1\",children:[\"You have \",analytics.projects.in_progress,\" projects in progress. Consider focusing on completing existing projects before starting new ones to improve your completion rate.\"]})]})]})}),recentProjects.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 border border-gray-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-800\",children:\"Stay Active\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-700 mt-1\",children:\"No new projects in the last 30 days. Consider starting a new project to maintain momentum and continue building your portfolio.\"})]})]})}),analytics.projects.completion_rate>=80&&recentProjects.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-green-50 border border-green-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-green-800\",children:\"Excellent Performance!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700 mt-1\",children:\"You're maintaining excellent project completion rates and staying active. Keep up the great work! Consider sharing your portfolio to showcase your achievements.\"})]})]})})]})})]})]}),/*#__PURE__*/_jsx(ExportModal,{isOpen:showExportModal,onClose:()=>setShowExportModal(false),currentUser:currentUser,projects:projects})]});};export default Analytics;","map":{"version":3,"names":["React","useState","useEffect","TrendingUp","BarChart3","PieChart","Calendar","Target","CheckCircle","Clock","AlertCircle","Download","Filter","Activity","Users","Zap","apiService","LoadingSpinner","ExportModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Analytics","_ref","currentUser","analytics","setAnalytics","projects","setProjects","loading","setLoading","timeRange","setTimeRange","selectedMetric","setSelectedMetric","showExportModal","setShowExportModal","loadAnalyticsData","analyticsData","getDashboardAnalytics","id","projectsData","getProjects","userId","limit","error","console","className","children","size","projectsByStatus","reduce","acc","project","status","projectsByType","project_type","projectsByPriority","priority","thirtyDaysAgo","Date","setDate","getDate","recentProjects","filter","created_at","monthlyActivity","monthly_activity","monthNames","keyMetrics","title","value","total","change","concat","length","icon","color","bg","testId","completion_rate","completed","in_progress","tasks","statusColors","text","typeColors","priorityColors","onChange","e","target","onClick","map","metric","Icon","item","index","maxCount","Math","max","m","count","height","monthName","_id","month","style","Object","entries","_ref2","config","percentage","toFixed","_ref3","type","_ref4","slice","toLocaleDateString","replace","width","min","isOpen","onClose"],"sources":["/app/frontend/src/pages/Analytics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  TrendingUp,\n  BarChart3,\n  PieChart,\n  Calendar,\n  Target,\n  CheckCircle,\n  Clock,\n  AlertCircle,\n  Download,\n  Filter,\n  Activity,\n  Users,\n  Zap\n} from 'lucide-react';\nimport { apiService } from '../services/api';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport ExportModal from '../components/ExportModal';\n\nconst Analytics = ({ currentUser }) => {\n  const [analytics, setAnalytics] = useState(null);\n  const [projects, setProjects] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [timeRange, setTimeRange] = useState('all'); // all, 30d, 90d, 1y\n  const [selectedMetric, setSelectedMetric] = useState('completion');\n  const [showExportModal, setShowExportModal] = useState(false);\n\n  useEffect(() => {\n    if (currentUser) {\n      loadAnalyticsData();\n    }\n  }, [currentUser, timeRange]);\n\n  const loadAnalyticsData = async () => {\n    try {\n      setLoading(true);\n      \n      // Load analytics\n      const analyticsData = await apiService.getDashboardAnalytics(currentUser.id);\n      setAnalytics(analyticsData);\n      \n      // Load all projects for detailed analysis\n      const projectsData = await apiService.getProjects({ \n        userId: currentUser.id, \n        limit: 100 \n      });\n      setProjects(projectsData);\n      \n    } catch (error) {\n      console.error('Failed to load analytics data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  if (!analytics) {\n    return (\n      <div className=\"text-center py-12\">\n        <BarChart3 className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n          No analytics data available\n        </h3>\n        <p className=\"text-gray-600\">\n          Start creating projects to see your analytics\n        </p>\n      </div>\n    );\n  }\n\n  // Calculate additional metrics\n  const projectsByStatus = projects.reduce((acc, project) => {\n    acc[project.status] = (acc[project.status] || 0) + 1;\n    return acc;\n  }, {});\n\n  const projectsByType = projects.reduce((acc, project) => {\n    acc[project.project_type] = (acc[project.project_type] || 0) + 1;\n    return acc;\n  }, {});\n\n  const projectsByPriority = projects.reduce((acc, project) => {\n    acc[project.priority] = (acc[project.priority] || 0) + 1;\n    return acc;\n  }, {});\n\n  // Recent activity (projects created in last 30 days)\n  const thirtyDaysAgo = new Date();\n  thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n  \n  const recentProjects = projects.filter(project => \n    new Date(project.created_at) >= thirtyDaysAgo\n  );\n\n  // Monthly activity chart data\n  const monthlyActivity = analytics.monthly_activity || [];\n  const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n  const keyMetrics = [\n    {\n      title: 'Total Projects',\n      value: analytics.projects.total,\n      change: `+${recentProjects.length} this month`,\n      icon: Target,\n      color: 'text-blue-600',\n      bg: 'bg-blue-100',\n      testId: 'total-projects-metric'\n    },\n    {\n      title: 'Completion Rate',\n      value: `${analytics.projects.completion_rate}%`,\n      change: `${analytics.projects.completed}/${analytics.projects.total} completed`,\n      icon: CheckCircle,\n      color: 'text-green-600',\n      bg: 'bg-green-100',\n      testId: 'completion-rate-metric'\n    },\n    {\n      title: 'Active Projects',\n      value: analytics.projects.in_progress,\n      change: 'Currently in progress',\n      icon: Clock,\n      color: 'text-yellow-600',\n      bg: 'bg-yellow-100',\n      testId: 'active-projects-metric'\n    },\n    {\n      title: 'Task Completion',\n      value: `${analytics.tasks.completion_rate}%`,\n      change: `${analytics.tasks.completed}/${analytics.tasks.total} tasks`,\n      icon: AlertCircle,\n      color: 'text-purple-600',\n      bg: 'bg-purple-100',\n      testId: 'task-completion-metric'\n    },\n  ];\n\n  const statusColors = {\n    'planning': { bg: 'bg-yellow-500', text: 'Planning' },\n    'in-progress': { bg: 'bg-blue-500', text: 'In Progress' },\n    'completed': { bg: 'bg-green-500', text: 'Completed' },\n    'on-hold': { bg: 'bg-gray-500', text: 'On Hold' },\n  };\n\n  const typeColors = {\n    'software': { bg: 'bg-blue-500', text: 'Software' },\n    'design': { bg: 'bg-purple-500', text: 'Design' },\n    'business': { bg: 'bg-green-500', text: 'Business' },\n    'other': { bg: 'bg-gray-500', text: 'Other' },\n  };\n\n  const priorityColors = {\n    'low': { bg: 'bg-gray-500', text: 'Low' },\n    'medium': { bg: 'bg-yellow-500', text: 'Medium' },\n    'high': { bg: 'bg-orange-500', text: 'High' },\n    'critical': { bg: 'bg-red-500', text: 'Critical' },\n  };\n\n  return (\n    <>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\" data-testid=\"analytics-title\">\n              Analytics Dashboard\n            </h1>\n            <p className=\"text-gray-600 mt-1\">\n              Insights into your project performance and productivity\n            </p>\n          </div>\n          \n          <div className=\"flex items-center space-x-3 mt-4 sm:mt-0\">\n            <select\n              value={timeRange}\n              onChange={(e) => setTimeRange(e.target.value)}\n              className=\"input w-auto\"\n              data-testid=\"time-range-filter\"\n            >\n              <option value=\"all\">All Time</option>\n              <option value=\"30d\">Last 30 Days</option>\n              <option value=\"90d\">Last 90 Days</option>\n              <option value=\"1y\">Last Year</option>\n            </select>\n            \n            <button\n              onClick={() => setShowExportModal(true)}\n              className=\"btn-secondary inline-flex items-center\"\n              data-testid=\"export-analytics-button\"\n            >\n              <Download className=\"w-4 h-4 mr-2\" />\n              Export\n            </button>\n          </div>\n        </div>\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {keyMetrics.map((metric) => {\n            const Icon = metric.icon;\n            return (\n              <div key={metric.title} className=\"card\" data-testid={metric.testId}>\n                <div className=\"card-body\">\n                  <div className=\"flex items-center justify-between\">\n                    <div>\n                      <p className=\"text-sm font-medium text-gray-600\">\n                        {metric.title}\n                      </p>\n                      <p className=\"text-3xl font-bold text-gray-900 mt-2\">\n                        {metric.value}\n                      </p>\n                      <p className=\"text-xs text-gray-500 mt-2\">\n                        {metric.change}\n                      </p>\n                    </div>\n                    <div className={`p-3 rounded-full ${metric.bg}`}>\n                      <Icon className={`w-6 h-6 ${metric.color}`} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Activity Over Time Chart */}\n        {monthlyActivity.length > 0 && (\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <Activity className=\"w-5 h-5 mr-2\" />\n                Project Activity Over Time\n              </h2>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"flex items-end space-x-2 h-40\">\n                {monthlyActivity.map((item, index) => {\n                  const maxCount = Math.max(...monthlyActivity.map(m => m.count), 1);\n                  const height = (item.count / maxCount) * 100;\n                  const monthName = monthNames[item._id.month - 1];\n                  \n                  return (\n                    <div key={index} className=\"flex flex-col items-center flex-1\">\n                      <div className=\"flex flex-col items-center justify-end h-32 w-full\">\n                        <div \n                          className=\"w-full bg-primary-500 rounded-t min-h-1 flex items-end justify-center\"\n                          style={{ height: `${height}%` }}\n                        >\n                          {item.count > 0 && (\n                            <span className=\"text-xs text-white font-medium mb-1\">\n                              {item.count}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"text-xs text-gray-600 mt-2\">\n                        {monthName}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              <div className=\"mt-4 text-xs text-gray-500 text-center\">\n                Projects created per month (Last 12 months)\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Project Status Distribution */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <PieChart className=\"w-5 h-5 mr-2\" />\n                Project Status Distribution\n              </h2>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"space-y-4\">\n                {Object.entries(projectsByStatus).map(([status, count]) => {\n                  const config = statusColors[status] || { bg: 'bg-gray-500', text: status };\n                  const percentage = analytics.projects.total > 0 \n                    ? ((count / analytics.projects.total) * 100).toFixed(1) \n                    : 0;\n                  \n                  return (\n                    <div key={status} className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className={`w-3 h-3 rounded-full ${config.bg} mr-3`}></div>\n                        <span className=\"text-sm font-medium text-gray-700\">\n                          {config.text}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm text-gray-600\">{count}</span>\n                        <span className=\"text-xs text-gray-500\">({percentage}%)</span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n\n          {/* Project Types Distribution */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <BarChart3 className=\"w-5 h-5 mr-2\" />\n                Project Types\n              </h2>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"space-y-4\">\n                {Object.entries(projectsByType).map(([type, count]) => {\n                  const config = typeColors[type] || { bg: 'bg-gray-500', text: type };\n                  const percentage = analytics.projects.total > 0 \n                    ? ((count / analytics.projects.total) * 100).toFixed(1) \n                    : 0;\n                  \n                  return (\n                    <div key={type} className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className={`w-3 h-3 rounded-full ${config.bg} mr-3`}></div>\n                        <span className=\"text-sm font-medium text-gray-700 capitalize\">\n                          {config.text}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm text-gray-600\">{count}</span>\n                        <span className=\"text-xs text-gray-500\">({percentage}%)</span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n\n          {/* Priority Distribution */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <TrendingUp className=\"w-5 h-5 mr-2\" />\n                Priority Distribution\n              </h2>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"space-y-4\">\n                {Object.entries(projectsByPriority).map(([priority, count]) => {\n                  const config = priorityColors[priority] || { bg: 'bg-gray-500', text: priority };\n                  const percentage = analytics.projects.total > 0 \n                    ? ((count / analytics.projects.total) * 100).toFixed(1) \n                    : 0;\n                  \n                  return (\n                    <div key={priority} className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center\">\n                        <div className={`w-3 h-3 rounded-full ${config.bg} mr-3`}></div>\n                        <span className=\"text-sm font-medium text-gray-700 capitalize\">\n                          {config.text}\n                        </span>\n                      </div>\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"text-sm text-gray-600\">{count}</span>\n                        <span className=\"text-xs text-gray-500\">({percentage}%)</span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n\n          {/* Recent Activity */}\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n                <Calendar className=\"w-5 h-5 mr-2\" />\n                Recent Activity (30 days)\n              </h2>\n            </div>\n            <div className=\"card-body\">\n              {recentProjects.length === 0 ? (\n                <div className=\"text-center py-8\">\n                  <Calendar className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-sm text-gray-600\">\n                    No projects created in the last 30 days\n                  </p>\n                </div>\n              ) : (\n                <div className=\"space-y-3\">\n                  {recentProjects.slice(0, 5).map((project) => (\n                    <div\n                      key={project.id}\n                      className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                      data-testid={`recent-project-${project.id}`}\n                    >\n                      <div>\n                        <h4 className=\"text-sm font-medium text-gray-900\">\n                          {project.title}\n                        </h4>\n                        <p className=\"text-xs text-gray-600\">\n                          {new Date(project.created_at).toLocaleDateString()}\n                        </p>\n                      </div>\n                      <span className={`badge ${\n                        project.status === 'completed' ? 'badge-success' :\n                        project.status === 'in-progress' ? 'badge-primary' :\n                        project.status === 'planning' ? 'badge-warning' : 'badge-gray'\n                      }`}>\n                        {project.status.replace('-', ' ')}\n                      </span>\n                    </div>\n                  ))}\n                  {recentProjects.length > 5 && (\n                    <p className=\"text-xs text-gray-500 text-center pt-2\">\n                      +{recentProjects.length - 5} more projects\n                    </p>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Performance Summary */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n              <Zap className=\"w-5 h-5 mr-2\" />\n              Performance Summary\n            </h2>\n          </div>\n          <div className=\"card-body\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n              {/* Completion Trends */}\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-green-600 mb-2\">\n                  {analytics.projects.completion_rate}%\n                </div>\n                <div className=\"text-sm text-gray-600 mb-4\">\n                  Project Completion Rate\n                </div>\n                <div className=\"progress-bar h-2\">\n                  <div \n                    className=\"progress-fill bg-green-500\" \n                    style={{ width: `${analytics.projects.completion_rate}%` }}\n                  ></div>\n                </div>\n              </div>\n\n              {/* Task Performance */}\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-blue-600 mb-2\">\n                  {analytics.tasks.completion_rate}%\n                </div>\n                <div className=\"text-sm text-gray-600 mb-4\">\n                  Task Completion Rate\n                </div>\n                <div className=\"progress-bar h-2\">\n                  <div \n                    className=\"progress-fill bg-blue-500\" \n                    style={{ width: `${analytics.tasks.completion_rate}%` }}\n                  ></div>\n                </div>\n              </div>\n\n              {/* Activity Score */}\n              <div className=\"text-center\">\n                <div className=\"text-3xl font-bold text-purple-600 mb-2\">\n                  {Math.min(100, recentProjects.length * 10)}%\n                </div>\n                <div className=\"text-sm text-gray-600 mb-4\">\n                  Activity Score (30d)\n                </div>\n                <div className=\"progress-bar h-2\">\n                  <div \n                    className=\"progress-fill bg-purple-500\" \n                    style={{ width: `${Math.min(100, recentProjects.length * 10)}%` }}\n                  ></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Recommendations */}\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">\n              Smart Recommendations\n            </h2>\n          </div>\n          <div className=\"card-body\">\n            <div className=\"space-y-4\">\n              {analytics.projects.completion_rate < 50 && (\n                <div className=\"p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\n                  <div className=\"flex items-start\">\n                    <AlertCircle className=\"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0\" />\n                    <div>\n                      <h4 className=\"text-sm font-medium text-yellow-800\">\n                        Improve Project Completion Rate\n                      </h4>\n                      <p className=\"text-sm text-yellow-700 mt-1\">\n                        Your project completion rate is below 50%. Consider breaking down large projects into smaller, manageable tasks and setting realistic deadlines.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {analytics.projects.in_progress > 5 && (\n                <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <div className=\"flex items-start\">\n                    <AlertCircle className=\"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" />\n                    <div>\n                      <h4 className=\"text-sm font-medium text-blue-800\">\n                        Focus on Active Projects\n                      </h4>\n                      <p className=\"text-sm text-blue-700 mt-1\">\n                        You have {analytics.projects.in_progress} projects in progress. Consider focusing on completing existing projects before starting new ones to improve your completion rate.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {recentProjects.length === 0 && (\n                <div className=\"p-4 bg-gray-50 border border-gray-200 rounded-lg\">\n                  <div className=\"flex items-start\">\n                    <AlertCircle className=\"w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0\" />\n                    <div>\n                      <h4 className=\"text-sm font-medium text-gray-800\">\n                        Stay Active\n                      </h4>\n                      <p className=\"text-sm text-gray-700 mt-1\">\n                        No new projects in the last 30 days. Consider starting a new project to maintain momentum and continue building your portfolio.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {analytics.projects.completion_rate >= 80 && recentProjects.length > 0 && (\n                <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">\n                  <div className=\"flex items-start\">\n                    <CheckCircle className=\"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0\" />\n                    <div>\n                      <h4 className=\"text-sm font-medium text-green-800\">\n                        Excellent Performance!\n                      </h4>\n                      <p className=\"text-sm text-green-700 mt-1\">\n                        You're maintaining excellent project completion rates and staying active. Keep up the great work! Consider sharing your portfolio to showcase your achievements.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Export Modal */}\n      <ExportModal\n        isOpen={showExportModal}\n        onClose={() => setShowExportModal(false)}\n        currentUser={currentUser}\n        projects={projects}\n      />\n    </>\n  );\n};\n\nexport default Analytics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}