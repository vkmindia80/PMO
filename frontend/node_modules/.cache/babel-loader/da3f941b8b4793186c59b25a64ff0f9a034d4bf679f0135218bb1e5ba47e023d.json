{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import'./App.css';// Components\nimport Login from'./components/Login';import Navbar from'./components/Navbar';import Sidebar from'./components/Sidebar';import Dashboard from'./pages/Dashboard';import Projects from'./pages/Projects';import Portfolio from'./pages/Portfolio';import UserProfile from'./pages/UserProfile';import ProjectDetail from'./pages/ProjectDetail';import Analytics from'./pages/Analytics';import LoadingSpinner from'./components/LoadingSpinner';// API Service\nimport{apiService}from'./services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);const[sidebarOpen,setSidebarOpen]=useState(false);const[users,setUsers]=useState([]);const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{checkAuthStatus();},[]);const checkAuthStatus=()=>{try{const token=localStorage.getItem('auth_token');const savedUser=localStorage.getItem('current_user');if(token&&savedUser){const user=JSON.parse(savedUser);setCurrentUser(user);setIsAuthenticated(true);// For demo, we'll create a mock users list\nsetUsers([user]);}}catch(error){console.error('Auth check failed:',error);localStorage.removeItem('auth_token');localStorage.removeItem('current_user');}finally{setLoading(false);}};const handleLogin=user=>{setCurrentUser(user);setIsAuthenticated(true);setUsers([user]);// For demo purposes\n};const handleLogout=()=>{localStorage.removeItem('auth_token');localStorage.removeItem('current_user');setCurrentUser(null);setIsAuthenticated(false);setUsers([]);};const switchUser=user=>{setCurrentUser(user);setSidebarOpen(false);localStorage.setItem('current_user',JSON.stringify(user));};const createNewUser=async userData=>{try{// For demo, create a mock user\nconst newUser={id:Date.now().toString(),name:userData.name,email:userData.email,title:userData.title||'Portfolio User',bio:userData.bio||'Welcome to my portfolio!',skills:userData.skills||[],social_links:userData.social_links||{},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};setUsers(prev=>[...prev,newUser]);setCurrentUser(newUser);localStorage.setItem('current_user',JSON.stringify(newUser));return newUser;}catch(error){console.error('Failed to create user:',error);throw error;}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}// Show login if not authenticated\nif(!isAuthenticated){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff'},success:{duration:3000,theme:{primary:'#22c55e'}}}}),/*#__PURE__*/_jsx(Navbar,{currentUser:currentUser,users:users,onToggleSidebar:()=>setSidebarOpen(!sidebarOpen),onSwitchUser:switchUser,onCreateUser:createNewUser,onLogout:handleLogout}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,onClose:()=>setSidebarOpen(false),currentUser:currentUser}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 transition-all duration-300 \".concat(sidebarOpen?'ml-64':'ml-0',\" lg:ml-64\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"p-4 lg:p-6 max-w-7xl mx-auto\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/projects\",element:/*#__PURE__*/_jsx(Projects,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/:projectId\",element:/*#__PURE__*/_jsx(ProjectDetail,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/portfolio\",element:/*#__PURE__*/_jsx(Portfolio,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/portfolio/:userId\",element:/*#__PURE__*/_jsx(Portfolio,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(UserProfile,{currentUser:currentUser,onUpdateUser:user=>setCurrentUser(user)})}),/*#__PURE__*/_jsx(Route,{path:\"/analytics\",element:/*#__PURE__*/_jsx(Analytics,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Toaster","Login","Navbar","Sidebar","Dashboard","Projects","Portfolio","UserProfile","ProjectDetail","Analytics","LoadingSpinner","apiService","jsx","_jsx","jsxs","_jsxs","App","currentUser","setCurrentUser","loading","setLoading","sidebarOpen","setSidebarOpen","users","setUsers","isAuthenticated","setIsAuthenticated","checkAuthStatus","token","localStorage","getItem","savedUser","user","JSON","parse","error","console","removeItem","handleLogin","handleLogout","switchUser","setItem","stringify","createNewUser","userData","newUser","id","Date","now","toString","name","email","title","bio","skills","social_links","created_at","toISOString","updated_at","prev","className","children","size","onLogin","position","toastOptions","duration","style","background","color","success","theme","primary","onToggleSidebar","onSwitchUser","onCreateUser","onLogout","isOpen","onClose","concat","path","element","onUpdateUser","to","replace"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport './App.css';\n\n// Components\nimport Login from './components/Login';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport Dashboard from './pages/Dashboard';\nimport Projects from './pages/Projects';\nimport Portfolio from './pages/Portfolio';\nimport UserProfile from './pages/UserProfile';\nimport ProjectDetail from './pages/ProjectDetail';\nimport Analytics from './pages/Analytics';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// API Service\nimport { apiService } from './services/api';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [users, setUsers] = useState([]);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    checkAuthStatus();\n  }, []);\n\n  const checkAuthStatus = () => {\n    try {\n      const token = localStorage.getItem('auth_token');\n      const savedUser = localStorage.getItem('current_user');\n      \n      if (token && savedUser) {\n        const user = JSON.parse(savedUser);\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n        // For demo, we'll create a mock users list\n        setUsers([user]);\n      }\n    } catch (error) {\n      console.error('Auth check failed:', error);\n      localStorage.removeItem('auth_token');\n      localStorage.removeItem('current_user');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogin = (user) => {\n    setCurrentUser(user);\n    setIsAuthenticated(true);\n    setUsers([user]); // For demo purposes\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('auth_token');\n    localStorage.removeItem('current_user');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setUsers([]);\n  };\n\n  const switchUser = (user) => {\n    setCurrentUser(user);\n    setSidebarOpen(false);\n    localStorage.setItem('current_user', JSON.stringify(user));\n  };\n\n  const createNewUser = async (userData) => {\n    try {\n      // For demo, create a mock user\n      const newUser = {\n        id: Date.now().toString(),\n        name: userData.name,\n        email: userData.email,\n        title: userData.title || 'Portfolio User',\n        bio: userData.bio || 'Welcome to my portfolio!',\n        skills: userData.skills || [],\n        social_links: userData.social_links || {},\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      };\n      \n      setUsers(prev => [...prev, newUser]);\n      setCurrentUser(newUser);\n      localStorage.setItem('current_user', JSON.stringify(newUser));\n      return newUser;\n    } catch (error) {\n      console.error('Failed to create user:', error);\n      throw error;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  // Show login if not authenticated\n  if (!isAuthenticated) {\n    return <Login onLogin={handleLogin} />;\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-gray-50\">\n        {/* Toast notifications */}\n        <Toaster\n          position=\"top-right\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: '#363636',\n              color: '#fff',\n            },\n            success: {\n              duration: 3000,\n              theme: {\n                primary: '#22c55e',\n              },\n            },\n          }}\n        />\n\n        {/* Navigation */}\n        <Navbar\n          currentUser={currentUser}\n          users={users}\n          onToggleSidebar={() => setSidebarOpen(!sidebarOpen)}\n          onSwitchUser={switchUser}\n          onCreateUser={createNewUser}\n          onLogout={handleLogout}\n        />\n\n        <div className=\"flex\">\n          {/* Sidebar */}\n          <Sidebar\n            isOpen={sidebarOpen}\n            onClose={() => setSidebarOpen(false)}\n            currentUser={currentUser}\n          />\n\n          {/* Main Content */}\n          <main className={`flex-1 transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-0'} lg:ml-64`}>\n            <div className=\"p-4 lg:p-6 max-w-7xl mx-auto\">\n              <Routes>\n                <Route\n                  path=\"/\"\n                  element={<Dashboard currentUser={currentUser} />}\n                />\n                <Route\n                  path=\"/projects\"\n                  element={<Projects currentUser={currentUser} />}\n                />\n                <Route\n                  path=\"/projects/:projectId\"\n                  element={<ProjectDetail currentUser={currentUser} />}\n                />\n                <Route\n                  path=\"/portfolio\"\n                  element={<Portfolio currentUser={currentUser} />}\n                />\n                <Route\n                  path=\"/portfolio/:userId\"\n                  element={<Portfolio />}\n                />\n                <Route\n                  path=\"/profile\"\n                  element={<UserProfile currentUser={currentUser} onUpdateUser={(user) => setCurrentUser(user)} />}\n                />\n                <Route\n                  path=\"/analytics\"\n                  element={<Analytics currentUser={currentUser} />}\n                />\n                <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n              </Routes>\n            </div>\n          </main>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}